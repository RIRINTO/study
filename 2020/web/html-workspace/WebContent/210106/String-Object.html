<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link rel="stylesheet" href="../css/public.css">
		<script type="text/javascript">
			function proc1(){
				let today = new Date();
				let a = prompt("주민등록번호를 입력하세요.", "110326-4432618");
				let birthYear = a.substr(0, 2);
//								a.substring(0, 2);
				let birthMonth = a.substr(2, 2);
//								a.substring(2, 4);
				let birthDate = a.substr(4, 2);
//								a.substring(4, 6);
				let gender = a.substr(7, 1);
//								a.substring(7, 8);

				if(gender == 1 || gender == 2) {
					birthYear = 19 + birthYear;
				} else if(gender == 3 || gender == 4) {
					birthYear = 20 + birthYear;
				} else {
					birthYear = "올바른 생년이 아닙니다.";
				}
				let res = "주민등록번호 : " + a.substring(0,8) + "******<br>";
				res += "생년월일 : " + birthYear + "년 " + birthMonth + "월 " + birthDate + "일<br>";
				if(gender == 1 || gender == 3){
					res += "성별 : 남자<br>";
				} else if(gender == 2 || gender == 4){
					res += "성별 : 여자<br>";
				}
				res += "나이 : " + (today.getFullYear() - parseInt(birthYear) + 1);
				console.log(today.getYear())
				print(res, "result1");
			}

			function proc2(){
				let humanNumber = prompt("주민등록번호를 입력하세요.", "110326-4432618");
				let multiplyNum = "234567892345";

//				배열로 반환한다.
				let numberArray = humanNumber.split("-");
				let rrn = numberArray[0].concat(numberArray[1]);
				let sum = 0;
				
				for(let i = 0; i < rrn.length - 1; i++) {
					sum += rrn.charAt(i) * multiplyNum.charAt(i);
				}
				
				let checkNum = (11 - sum % 11) % 10;
				let result = rrn.charAt(rrn.length - 1) == checkNum;
				
				let res = "주민등록번호 : " + humanNumber.substring(0,8) + "******<br>";
				res += "주민등록번호 유효성 검사 결과 : " + result;
				print(res, "result2");
			}

			function print(res, id){
				document.getElementById(id).innerHTML = res;
			}
		</script>
	</head>
	<body>
		<pre>
주민등록번호를 입력받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.
	(입력은 prompt로 입력받는다.)
	예) 주민등록번호를 110326-4432618로 입력 받은 경우
		생일 : 2011년 3월 26일
		성별 : 여자
		나이 : 11
		</pre>
		<input type="button" id="btn1" value="확인" onclick="proc1()">
		<div id="result1">

		</div>
		<pre>

		</pre>
		<input type="button" id="btn2" value="확인" onclick="proc2()">
		<div id="result2">

		</div>
	</body>
</html>
